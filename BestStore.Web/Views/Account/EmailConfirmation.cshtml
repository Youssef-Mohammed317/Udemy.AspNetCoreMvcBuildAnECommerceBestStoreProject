@model EmailConfirmaitonViewModel

@{
    ViewData["Title"] = "Confirm Your Email";
}

<div class="container" style="max-width: 500px; margin: 100px auto;">
    <div class="card" style="border: 1px solid #dee2e6; border-radius: 8px;">
        <div class="card-body p-5 text-center">

            <!-- Success Icon -->
            <div class="mb-4">
                <i class="bi bi-envelope-check" style="font-size: 64px; color: #0d6efd;"></i>
            </div>

            <!-- Title -->
            <h2 style="font-weight: 600; color: #333; margin-bottom: 15px;">Check Your Email</h2>

            <!-- Message with Styled Email -->
            <div style="background-color: #f8f9fa; border-radius: 8px; padding: 15px; margin-bottom: 25px;">
                <p style="color: #6c757d; margin-bottom: 10px; line-height: 1.6;">
                    We've sent a confirmation email to:
                </p>

                <!-- Styled Email Display -->
                <div style="background: white; border: 2px solid #0d6efd; border-radius: 6px; padding: 12px; margin: 0 auto 15px auto;">
                    <div style="display: flex; align-items: center; justify-content: center;">
                        <i class="bi bi-envelope-fill" style="color: #0d6efd; font-size: 18px; margin-right: 10px;"></i>
                        <span style="font-weight: 600; color: #333; font-size: 16px;">@Model.Email</span>
                    </div>
                </div>

                <p style="color: #6c757d; line-height: 1.6; margin: 0;">
                    Please click the link in the email to activate your account.
                </p>
            </div>

            <!-- Instead of hidden field and styled display, use this in the form: -->

            <form method="post" asp-controller="Account" asp-action="SendEmailVerfication" style="margin-bottom: 15px;">
                <input type="hidden" asp-for="Id" name="userId" />
                <!-- Visible Email Field with styling -->
                <div style="margin-bottom: 15px;">
                    <div class="input-group" style="border-radius: 6px; overflow: hidden;">
                        <span class="input-group-text"
                              style="background-color: #f8f9fa; border: 1px solid #dee2e6; border-right: none;">
                            <i class="bi bi-envelope" style="color: #6c757d;"></i>
                        </span>
                        <input type="email" asp-for="Email" name="email"
                               class="form-control"
                               style="border: 1px solid #dee2e6; border-left: none; padding: 12px;"
                               readonly
                               placeholder="Your email address" />
                    </div>
                    <div class="form-text" style="text-align: left; font-size: 12px; color: #6c757d; margin-top: 5px;">
                        This is the email we sent confirmation to
                    </div>
                </div>

                <button type="submit"
                        class="btn btn-primary w-100 mb-2"
                        style="padding: 12px; border-radius: 6px; font-weight: 500;">
                    <i class="bi bi-arrow-repeat me-2"></i> Resend Confirmation Email
                </button>
            </form>
            <!-- Verify Later Button (Login Anchor) -->
            <a asp-controller="Account" asp-action="Login"
               class="btn btn-outline-warning w-100 mb-3"
               style="padding: 12px; border-radius: 6px; font-weight: 500;">
                <i class="bi bi-box-arrow-in-right me-2"></i> Login Now (Verify Later)
            </a>

            <!-- Home Button -->
            <a asp-controller="Home" asp-action="Index"
               class="btn btn-outline-secondary w-100 mb-3"
               style="padding: 12px; border-radius: 6px; font-weight: 500;">
                <i class="bi bi-house-door me-2"></i> Back to Homepage
            </a>

            <!-- Additional Info -->
            <div class="mt-4 pt-3 border-top">
                <div style="display: flex; align-items: center; justify-content: center;">
                    <i class="bi bi-info-circle" style="color: #6c757d; margin-right: 8px;"></i>
                    <small style="color: #6c757d;">
                        Didn't receive the email? Check your spam folder.
                    </small>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .btn-primary {
        background-color: #0d6efd;
        border-color: #0d6efd;
        transition: all 0.2s ease;
    }

        .btn-primary:hover {
            background-color: #0b5ed7;
            border-color: #0a58ca;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(13, 110, 253, 0.2);
        }

    .btn-outline-warning {
        color: #ffc107;
        border-color: #ffc107;
        transition: all 0.2s ease;
    }

        .btn-outline-warning:hover {
            background-color: #ffc107;
            color: #000;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
        }

    .btn-outline-secondary {
        transition: all 0.2s ease;
    }

        .btn-outline-secondary:hover {
            background-color: #6c757d;
            color: white;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(108, 117, 125, 0.2);
        }

    .card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
    }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

    /* Email container animation */
    @@keyframes highlightEmail {
        0% {
            border-color: #0d6efd;
            box-shadow: 0 0 0 rgba(13, 110, 253, 0);
        }

        50% {
            border-color: #0d6efd;
            box-shadow: 0 0 0 4px rgba(13, 110, 253, 0.1);
        }

        100% {
            border-color: #0d6efd;
            box-shadow: 0 0 0 rgba(13, 110, 253, 0);
        }
    }

    /* Email highlight animation */
    .email-highlight {
        animation: highlightEmail 2s ease-in-out;
    }

    /* Responsive adjustments */
    @@media (max-width: 576px) {
        .container {
            margin: 50px 20px;
        }

        .card-body {
            padding: 30px !important;
        }
    }
</style>

<script>
    // Add email highlight animation on page load
    document.addEventListener('DOMContentLoaded', function() {
        const emailContainer = document.querySelector('.card-body');
        if (emailContainer) {
            emailContainer.classList.add('email-highlight');

            // Remove class after animation completes
            setTimeout(() => {
                emailContainer.classList.remove('email-highlight');
            }, 2000);
        }
    });
</script>